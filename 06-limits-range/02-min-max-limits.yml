apiVersion: v1
kind: Namespace
metadata:
  name: prod
  labels:
    name: prod
---
apiVersion: v1
kind: LimitRange
metadata:
  name: min-max-limits
  namespace: prod
spec:
  limits:
  - max:
      memory: 1Gi # 1 giga de memoria por contenedor
      cpu: 1 # 1 cpu por contenedor (1 core)
    min:
      memory: 100M # 100 megas de memoria por contenedor
      cpu: 100m # 0.1 cpu por contenedor (100 millicores)
    type: Container
---
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  namespace: prod
  labels:
    app: nginx
spec:
  containers:
    - name: nginx-container
      image: nginx:latest
      resources:
        requests:
          memory: "400M" # 400 megas de memoria
          cpu: 0.3 # 0.3 cpu (300 millicores)
        limits:
          memory: 2Gi # 2 gigas de memoria el pod va a fallar porque excede el limite
          cpu: 2 # 2 cpu (2 cores) el pod va a fallar porque excede el limite